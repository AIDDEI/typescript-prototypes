function t(t,e,i,s){Object.defineProperty(t,e,{get:i,set:s,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},h={},r=i.parcelRequirefac4;null==r&&((r=function(t){if(t in s)return s[t].exports;if(t in h){var e=h[t];delete h[t];var i={id:t,exports:{}};return s[t]=i,e.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){h[t]=e},i.parcelRequirefac4=r),r.register("27Lyk",(function(e,i){var s,h;t(e.exports,"register",(()=>s),(t=>s=t)),t(e.exports,"resolve",(()=>h),(t=>h=t));var r={};s=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)r[e[i]]=t[e[i]]},h=function(t){var e=r[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),r("27Lyk").register(JSON.parse('{"eKLbl":"coins.def86e25.js","j35bh":"Char1_1.353fe21a.png","7PbZH":"test_background2.3b768567.jpg","2IBRc":"test_ground2.34569c95.jpg","3kzHG":"block.f9c041fa.jpg","4npii":"coin.54fe73ba.png","7tBVd":"theme.db8cf54c.wav","Wd7fG":"jump.32d0def2.wav","96Zzh":"death.6abf4765.wav","6IK03":"footstep.b8ae6649.wav","29I8w":"push.5b31bf4a.wav","aY0hi":"head_bump.6d21ef75.wav","9hto7":"audio.fcc44636.js"}'));var o,a=r("31xg4");o=new URL(r("27Lyk").resolve("j35bh"),import.meta.url).toString();var n;n=new URL(r("27Lyk").resolve("7PbZH"),import.meta.url).toString();var d;d=new URL(r("27Lyk").resolve("2IBRc"),import.meta.url).toString();var l;l=new URL(r("27Lyk").resolve("3kzHG"),import.meta.url).toString();var c;c=new URL(r("27Lyk").resolve("4npii"),import.meta.url).toString();var p;p=new URL(r("27Lyk").resolve("7tBVd"),import.meta.url).toString();var u;a=r("31xg4");u=new URL(r("27Lyk").resolve("Wd7fG"),import.meta.url).toString();var y;y=new URL(r("27Lyk").resolve("96Zzh"),import.meta.url).toString();var g;g=new URL(r("27Lyk").resolve("6IK03"),import.meta.url).toString();var w;w=new URL(r("27Lyk").resolve("29I8w"),import.meta.url).toString();var x;x=new URL(r("27Lyk").resolve("aY0hi"),import.meta.url).toString();class k extends a.Sprite{xspeed=0;yspeed=3;weigth=.3;walkRight=!1;walkLeft=!1;walkLeftLock=!1;walkRightLock=!1;jumpSound=new Audio(e(u));deathSound=new Audio(e(y));footstepSound=new Audio(e(g));pushSound=new Audio(e(w));headBumpSound=new Audio(e(x));constructor(t,e){super(t),this.anchor.set(0),this.x=80,this.y=60,this.width=51,this.height=72,this.allBlocksArray=e,window.addEventListener("keydown",(t=>this.onKeyDown(t))),window.addEventListener("keyup",(t=>this.onKeyUp(t)))}update(t){for(let e=0;e<this.allBlocksArray.length;e++)this.allBlocksArray[e].x+=-t*this.xspeed;this.y+=t*this.yspeed,this.yspeed+=this.weigth,this.y>500&&(this.deathSound.play(),this.resetPosition()),!0===this.walkLeft&&(this.xspeed=-5),!0===this.walkRight&&(this.xspeed=5),!1===this.walkLeft&&!1===this.walkRight&&(this.xspeed=0)}collisionVerticalTop(t){return!(this.x>t.x+t.width||this.x+this.width<t.x||this.y>t.y+t.height||this.y+this.height<t.y)}collisionVerticalBottom(t){this.y+this.height>t.y&&this.y<t.y+t.height&&this.x+this.width>t.x&&this.x<t.x+t.width&&(this.yspeed=3,this.headBumpSound.play())}collisionHorizontal(t){this.x+this.width>=t.x&&this.x+this.width<t.x+t.width?(this.y===t.y||this.y-this.height+5<t.y&&this.y>t.y-t.height)&&(this.walkRightLock=!0,this.walkRight=!1,this.x=t.x-this.width-1,this.pushSound.play()):this.walkRightLock=!1,this.x<=t.x+t.width&&this.x>t.x?(this.y===t.y||this.y-this.height+5<t.y&&this.y>t.y-t.height)&&(this.walkLeftLock=!0,this.walkLeft=!1,this.x=t.x+t.width+1,this.pushSound.play()):this.walkLeftLock=!1}resetPosition(){this.x=80,this.y=60}onKeyDown(t){switch(" "!==t.key&&"ArrowUp"!==t.key&&"w"!==t.key||0===this.yspeed&&(this.yspeed=-9,this.jumpSound.play()),t.key.toUpperCase()){case"A":case"ARROWLEFT":this.walkLeftLock||(this.walkLeft=!0,this.footstepSound.play());break;case"D":case"ARROWRIGHT":this.walkRightLock||(this.walkRight=!0,this.footstepSound.play())}}onKeyUp(t){switch(t.key.toUpperCase()){case"A":case"ARROWLEFT":this.walkLeft=!1;break;case"D":case"ARROWRIGHT":this.walkRight=!1}}}a=r("31xg4");class f extends a.Sprite{constructor(t){super(t),this.x=0,this.y=350,this.width=500,this.height=70}}a=r("31xg4");class L extends a.Sprite{constructor(t){super(t),this.x=350,this.y=150,this.width=70,this.height=72}}a=r("31xg4");class m extends a.Sprite{constructor(t,e,i){super(t),this.width=e,this.height=i}}a=r("31xg4");class R extends a.Sprite{constructor(t){super(t),this.width=17,this.height=15}}new class{pixiWidth=800;pixiHeight=450;themeSound=new Audio(e(p));constructor(){this.pixi=new a.Application({width:this.pixiWidth,height:this.pixiHeight}),this.pixi.stage.interactive=!0,this.pixi.stage.hitArea=this.pixi.renderer.screen,document.body.appendChild(this.pixi.view),this.blocks=[],this.grounds=[],this.coins=[],this.gameArray=[],this.playerCoins=[],this.loader=new a.Loader,this.loader.add("charTexture",e(o)).add("backgroundTexture",e(n)).add("groundTexture",e(d)).add("blockTexture",e(l)).add("coinTexture",e(c)),this.loader.load((()=>this.loadCompleted()))}loadCompleted(){this.themeSound.play(),this.themeSound.addEventListener("ended",(function(){this.currentTime=0,this.play()}),!1),this.background=new m(this.loader.resources.backgroundTexture.texture,this.pixiWidth,this.pixiHeight),this.pixi.stage.addChild(this.background),this.char=new k(this.loader.resources.charTexture.texture,this.gameArray),this.pixi.stage.addChild(this.char),this.createGround(20,350),this.createGround(750,350),this.createBlock(350,150),this.createBlock(600,278),this.createBlock(1200,278),this.createCoin(200,300),this.pixi.ticker.add((t=>this.update(t)))}update(t){this.char.update(t);for(let t of this.grounds)this.char.collisionVerticalTop(t)&&this.char.y+this.char.height<t.y+this.char.yspeed&&(this.char.y=t.y-this.char.height,this.char.yspeed=0),this.char.collisionHorizontal(t),this.char.collisionVerticalBottom(t);for(let t of this.blocks)this.char.collisionVerticalTop(t)&&this.char.y+this.char.height<t.y+this.char.yspeed&&(this.char.y=t.y-this.char.height,this.char.yspeed=0),this.char.collisionHorizontal(t),this.char.collisionVerticalBottom(t);if(0!==this.coins.length)for(let t of this.coins)this.char.collisionVerticalTop(t)&&(this.playerCoins.push(1),this.coins=this.coins.filter((e=>e!=t)),this.gameArray=this.gameArray.filter((e=>e!=t)),t.destroy(),console.log(this.playerCoins),console.log(this.coins),console.log(this.gameArray))}createBlock(t,e){let i=new L(this.loader.resources.blockTexture.texture);i.x=t,i.y=e,this.blocks.push(i),this.gameArray.push(i),this.pixi.stage.addChild(i)}createGround(t,e){let i=new f(this.loader.resources.groundTexture.texture);i.x=t,i.y=e,this.grounds.push(i),this.gameArray.push(i),this.pixi.stage.addChild(i)}createCoin(t,e){let i=new R(this.loader.resources.coinTexture.texture);i.x=t,i.y=e,this.coins.push(i),this.gameArray.push(i),this.pixi.stage.addChild(i)}};
//# sourceMappingURL=coins.def86e25.js.map
